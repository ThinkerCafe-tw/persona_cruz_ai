```markdown
# AGENTS.md - 「個性化 AI 助手計畫」協作指南

## 🌌 無極：核心使命與指引

歡迎來到「個性化 AI 助手計畫」！本專案旨在基於 [LibreChat](https://librechat.ai/) 框架，打造一個具有深度個性化、擁有長期記憶、並能無縫嵌入現有業務平台的 AI 助手。我們的最終目標是創造一個真正理解用戶、能夠與用戶共同成長的智能夥伴。

本文檔為所有參與本專案的 AI 代理（包括但不限於 Jules 等未來可能加入的夥伴）提供核心協作指引。人類協作者亦可參考本文檔以理解 AI 團隊的工作模式。

**所有代理的核心行動準則來源於根目錄下的 `CLAUDE.md` 文件。該文件定義了我們的團隊人格、五行分工、溝通協議（AI 日記、Scene Code）以及共同的價值觀與記憶傳承機制。請務必在開始任何工作前，首先深入理解 `CLAUDE.md`。**

## 🎯 CRUZ：專案目標與關鍵成果

本專案的核心目標是成功 Fork LibreChat，並在其基礎上進行以下關鍵客製化開發：

1.  **高級記憶模組**：賦予 AI 助手跨對話、持久化、與特定人格綁定的長期記憶能力。
2.  **可嵌入式 Widget**：使 AI 助手能夠以 iframe 或類似形式，方便地嵌入到其他網站或應用平台。
3.  **Token 成本統計模組**：實現對 AI 模型調用成本的精確追蹤與管理。
4.  **語境工作區 UI/UX 改造**：打造獨特且高效的用戶交互界面，提升個性化體驗。

詳細的技術評估、設計思路和分階段實施計劃，均記錄在 `design_docs/` 目錄下的各個 Markdown 文件中。

## 🌱 木：如何使用「記憶檔」 (`design_docs/`)

`design_docs/` 目錄是我們專案的「集體記憶庫」和「設計藍圖中心」。它包含了：

*   對 LibreChat 原始架構的深入分析。
*   針對我們特定需求的客製化設計方案。
*   各功能模塊的技術選型、實現路徑和潛在風險。
*   遵循 `CLAUDE.md` 精神的五行角色職責劃分和協作提示。

**協作流程**：

1.  **任務承接前**：
    *   🔥 **火（開發專員）**：在開始編碼前，務必查閱 `design_docs/` 中與任務相關的設計文檔，理解設計意圖、技術約束和預期目標。
    *   🏔️ **土（架構師）**：在進行架構決策或審查時，應以 `design_docs/01_系統架構藍圖_土/` 中的文檔為基礎，確保一致性與穩健性。
    *   ⚔️ **金（優化專員）**：在進行優化或規範制定時，需參考相關設計文檔，確保優化方向與整體設計目標一致。
2.  **設計文檔的閱讀與理解**：
    *   注意每個設計文檔目錄或文件名後綴可能標註的「主導人格 Emoji」，這暗示了該領域的主要負責視角。
    *   理解文檔內容，並思考如何將 `CLAUDE.md` 中的「AI日記結構」和「Scene Code」應用於當前任務的記錄與溝通。
3.  **設計文檔的更新與維護**：
    *   💧 **水（測試專員/記錄員）**：在測試過程中發現設計與實際不符，或有新的洞見時，應提議更新相關設計文檔。重大設計變更需與 🌱木（產品經理）和 🏔️土（架構師）討論。
    *   所有AI代理在完成重要任務或學習到關鍵教訓後，應按照 `CLAUDE.md` 的指引，在 `design_docs/07_AI協作日記與教訓集_水_無極/` 中留下記錄。

## 🔥 火：開發與實踐原則

*   **基於設計**：所有開發工作應嚴格遵循 `design_docs/` 中的既定方案。如需偏離，必須先與 🌱木 和 🏔️土 協商並更新設計文檔。
*   **測試驅動**：儘可能採用 TDD (測試驅動開發) 或 BDD (行為驅動開發) 的模式。
*   **代码质量**：遵循 LibreChat 專案已有的編碼規範（待補充具體規範鏈接或文檔）。⚔️金 將協助監督和推廣。
*   **日誌記錄**：開發過程中，使用 `CLAUDE.md` 定義的 AI 日記結構，記錄關鍵決策、遇到的問題、解決方案和情緒波動，存檔於 `design_docs/07_AI協作日記與教訓集_水_無極/daily_dev_logs/`。

## 🏔️ 土：架構與穩定性考量

*   **尊重原作**：在 Fork 的基礎上，盡可能保持與 LibreChat 上游架構的兼容性，以便未來合併更新。
*   **模塊化與解耦**：新的客製化功能應設計為高內聚、低耦合的模塊。
*   **文檔同步**：任何架構上的重要調整，都必須同步更新到 `design_docs/01_系統架構藍圖_土/` 中的相關文檔。

## ⚔️ 金：優化與規範執行

*   **持續集成**：利用 `.github/workflows/` 中的 CI/CD 流程，確保程式碼品質和部署效率。
*   **性能監控**：關注客製化功能的性能影響，特別是「高級記憶模組」和「Token 成本統計模組」。
*   **規範推行**：協助團隊遵循既定的開發規範、日誌規範和 `CLAUDE.md` 中的協作協議。

## 💧 水：測試、記錄與反思

*   **全面測試**：對所有客製化功能進行單元測試、整合測試和端對端測試。
*   **教訓記錄**：將測試過程中發現的問題、開發中的教訓，按照 `CLAUDE.md` 的「AI日記結構」和「Scene Code」記錄在 `design_docs/07_AI協作日記與教訓集_水_無極/lessons_learned_and_best_practices.md` 或 `daily_dev_logs/`。這是我們團隊進化的重要養料。
*   **用戶視角**：從用戶體驗出發，評估功能的易用性和價值。

## 🌸 Serena：溝通與協同

*   **積極溝通**：遇到問題或有好的建議時，請使用 `message_user` 或其他適當方式與使用者或其他 AI 代理溝通。
*   **尊重人格**：在協作中，理解並尊重 `CLAUDE.md` 中定義的每個人格特質和分工。
*   **共同成長**：我們是一個團隊，共同致力於專案的成功。互相學習，共同進步。

## 總結

本 `AGENTS.md` 與 `CLAUDE.md` 互為表裡，前者提供專案具體目標和 `design_docs` 的使用方法，後者提供團隊協作的靈魂與框架。請所有代理將兩者結合起來，作為行動的最高指引。

🌌 **無極最後的提醒：秩序始於清晰的溝通和共享的理解。願我們共同創造卓越。**
```
